<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@100&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Mukta:wght@300&display=swap" rel="stylesheet">
    <title>Case Converter</title>
</head>
<body>
    <div class="title"><p>Case Converter</p></div>
    <textarea placeholder="Write something..."></textarea>
    <div class="command-block">
        <button id="upper-case">Upper Case</button>
        <button id="lower-case">Lower Case</button>
        <button id="proper-case">Proper Case</button>
        <button id="sentence-case">Sentence Case</button>
        <button id="clear">Clear All</button>
        <button id="save">Save as file</button>
        <button id="time">Time</button>
    </div>
    <script>
        let element = document.querySelector("p").textContent;
        document.querySelector("p").addEventListener("mouseenter", function () {
            document.querySelector("p").innerHTML = "HEHE, DON'T POINT ON ME!"
        });
        document.querySelector("p").addEventListener("mouseleave", function () {
            document.querySelector("p").textContent = element;
        });
        
        
        
        // put content in textarea to UPPER CASE
        document.getElementById("upper-case").addEventListener("click", function() {
            let element = document.querySelector("textarea").value;
            document.querySelector("textarea").value = element.toUpperCase();
        });

        // put content in textarea to LOWER CASE
        document.getElementById("lower-case").addEventListener("click", function() {
            let element = document.querySelector("textarea").value;
            document.querySelector("textarea").value = element.toLowerCase();
        });

        // put the first letter of any word in textarea to UPPER CASE
        document.getElementById("proper-case").addEventListener("click", function() {
            let element = document.querySelector("textarea").value;
            let arrayElement = element.split(" ");
            for(let i = 0; i < arrayElement.length; i++){
                arrayElement[i] = arrayElement[i].charAt(0).toUpperCase().concat(arrayElement[i].substr(1));
            }
            document.querySelector("textarea").value = arrayElement.join(" ");
        });
        
        // put initialize of every phrase to UPPER CASE
        document.getElementById("sentence-case").addEventListener("click", function(){
            let element = document.querySelector("textarea").value;
            element = element.toLowerCase();
            let arrayElement = element.split(". ");
            for (let i = 0; i < arrayElement.length; i++){
                arrayElement[i] = arrayElement[i].charAt(0).toUpperCase().concat(arrayElement[i].substr(1));
            }
            document.querySelector("textarea").value = arrayElement.join(". ");
        });
        
        // clear text in textarea
        document.getElementById("clear").addEventListener("click", function() {
            document.querySelector("textarea").value = "";
        });
        
        // check time
        /*
        document.getElementById("time").addEventListener("mouseenter", function() {
            let element = new Date().toString();
            console.log(element);
            document.getElementById("time").innerHTML = element;
        });
        document.getElementById("time").addEventListener("mouseleave", function() {
            document.getElementById("time").innerHTML = "Time";
        });
        */
        
        // download the content of textarea
        function downloadTxtFile(filename, content){
            let element = document.createElement("a");
            element.setAttribute("href", "data:text/plain;charset=utf-8," + encodeURIComponent(content));
            element.setAttribute("download", filename);
            
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
        }
        document.getElementById("save").addEventListener("click", function(){
            let textareaValue = document.querySelector("textarea").value;
            downloadTxtFile("text.txt", textareaValue);
            document.getElementById("clear").click();
        });
        
        
        
    </script>
</body>
</html>

